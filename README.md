# Node-RED Flow: Расчёт конечной даты с учётом рабочих дней и праздников 2025 года

Этот поток Node-RED позволяет рассчитать конечную дату выполнения задачи, учитывая рабочие дни, выходные и праздничные дни в 2025 году согласно производственному календарю РФ. Поток использует встроенный календарь праздников и предпраздничных дней для точного расчёта.

## Описание потока

Поток принимает на вход:
- **Начальную дату** (в формате `YYYY-MM-DD`).
- **Количество рабочих дней**, которое нужно прибавить к начальной дате.

На выходе поток возвращает:
- **Конечную дату** (в формате `YYYY-MM-DD`), рассчитанную с учётом выходных и праздничных дней.

## Как работает поток

1. **Ввод данных**:
   - Узел `inject` используется для задания начальной даты и количества рабочих дней.
   - Пример входных данных:
     ```json
     {
         "startDate": "2025-01-28",
         "workingDays": 10
     }
     ```

2. **Расчёт конечной даты**:
   - Узел `function` содержит логику расчёта:
     - Используется список праздничных дней (`holidays`) и предпраздничных дней (`preholidays`) на 2025 год.
     - Алгоритм пропускает выходные (суббота и воскресенье) и праздничные дни.
     - Количество рабочих дней уменьшается только при прохождении рабочего дня.

3. **Вывод результата**:
   - Узел `debug` выводит конечную дату в формате `YYYY-MM-DD`.

## Использование
## Как использовать
1. Скачайте файл [wdflows.json](https://github.com/NodeRedBPM/Workday-Calculator-Node-Red/blob/main/wdflow.json) из этого репозитория.
2. Импортируйте его в Node-RED.
![Описание фото](https://github.com/NodeRedBPM/MegaCRM-API-Node-Red/blob/main/importfile.png)
3. Запустите поток.
4. В узле `inject` укажите начальную дату и количество рабочих дней.
5. Результат будет выведен в узле `debug`.

## Пример

### Входные данные:
- Начальная дата: `2025-01-28`
- Рабочие дни: `10`

### Результат:
- Конечная дата: `2025-02-11` (с учётом праздников и выходных).

## Календарь праздников и выходных

Поток использует встроенный календарь на 2025 год, включающий:
- **Праздничные дни**: Новогодние каникулы, 8 Марта, День Победы и другие.
- **Предпраздничные дни**: Сокращённые рабочие дни.

Список праздников и предпраздничных дней взят из открытых источников и может быть изменён при необходимости.

---
## Лицензия

Этот проект распространяется под лицензией MIT. Подробнее см. в файле [LICENSE](LICENSE).
